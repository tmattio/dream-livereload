<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Dream_livereload (dream-livereload.Dream_livereload)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">dream-livereload</a> &#x00BB; Dream_livereload</nav><header class="odoc-preamble"><h1>Module <code><span>Dream_livereload</span></code></h1><p>Dream Live Reload implements live reloading for Dream applications.</p><p>It works by injecting a script in the HTML pages sent to clients that will initiate a WebSocket.</p><p>When the server restarts, the WebSocket connection is lost, at which point, the client will try to reconnect every 500ms for 5s. If within these 5s the client is able to reconnect to the server, it will trigger a reload of the page.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value" id="val-default_script" class="anchored"><a href="#val-default_script" class="anchor"></a><code><span><span class="keyword">val</span> default_script : 
  <span>?retry_interval_ms:int <span class="arrow">&#45;&gt;</span></span>
  <span>?max_retry_ms:int <span class="arrow">&#45;&gt;</span></span>
  <span>?route:string <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  string</span></code></div><div class="spec-doc"><p>Default live reloading script used if no custom script is provided.</p><p><code>retry_interval_ms</code> defaults to defaults to 500ms, <code>max_retry_ms</code> defaults to 10000ms and the default <code>route</code> is <code>&quot;/_livereload&quot;</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-inject_script" class="anchored"><a href="#val-inject_script" class="anchor"></a><code><span><span class="keyword">val</span> inject_script : <span>?script:string <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Dream</span>.middleware</span></code></div><div class="spec-doc"><p>A middleware that injects the live reloading script in an HTML document.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-route" class="anchored"><a href="#val-route" class="anchor"></a><code><span><span class="keyword">val</span> route : <span>?path:string <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Dream</span>.route</span></code></div><div class="spec-doc"><p>The route for the live reloading endpoint.</p><p><code>path</code> defaults to <code>&quot;/_livereload&quot;</code>. Make sure this is the same as the endpoint of the WebSocket if you provided a custom script to <code>inject_script</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-router" class="anchored"><a href="#val-router" class="anchor"></a><code><span><span class="keyword">val</span> router : <span class="xref-unresolved">Dream</span>.handler</span></code></div><div class="spec-doc"><p>A Dream router that contains <code>route</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-scope" class="anchored"><a href="#val-scope" class="anchor"></a><code><span><span class="keyword">val</span> scope : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><span class="xref-unresolved">Dream</span>.middleware list</span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Dream</span>.route</span></code></div><div class="spec-doc"><p>Helper function to scope the live reloading routes with a prefix and a list of middlewares.</p></div></div></div></body></html>